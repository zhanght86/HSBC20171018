LLClaimCheckSql1 = select getDutyFeeName(A.DutyCode,'''','''',''1''),A.DutyLimit,getDutyFeeName(A.DutyCode,A.GetDutyCode,'''',''2''),A.GetDutyLimit,A.GetDuytSumPaid,getSurplusMoney(A.DutyLimit,A.GetDutyLimit,A.DuytSumPaid,A.GetDuytSumPaid) SurplusMoney,A.FeeSum,A.FeeCalSum,A.PaidFlag,A.Copay,A.Deductible,A.CalSum,A.GetDutyCode from (select lg.DutyCode,nvl(GetMoneyLimit(lg.DutyCode,'''',lg.getdutykind),''N/A'') DutyLimit,lg.GetDutyCode,nvl(GetMoneyLimit(lg.DutyCode,lg.GetDutyCode,lg.getdutykind),''N/A'') GetDutyLimit,GetSumPaid(lg.ContNo,lg.dutycode,'''' ,lg.insuredno) DuytSumPaid,GetSumPaid(lg.ContNo,'''',lg.GetDutyCode,lg.insuredno) GetDuytSumPaid,nvl((select sum(lcd.AdjSum) from LLClaimDutyFee lcd where lcd.ClmNo=lr.RgtNo and lcd.GetDutyCode=lg.GetDutyCode),0) FeeSum,nvl((select sum(lcd.CalSum) from LLClaimDutyFee lcd where lcd.ClmNo=lr.RgtNo and lcd.GetDutyCode=lg.GetDutyCode),0) FeeCalSum,(case when lr.PreAuthNo is null then ''N'' else ''Y'' end) AuthFlag,(select StandFlag1 from LDPlanFeeRela where riskcode=lp.riskcode and dutycode=lg.DutyCode and getdutycode=lg.GetDutyCode and feecode=''0000'' and rownum = 1) PaidFlag ,(select PreAuthFlag from LDPlanFeeRela where riskcode=lp.riskcode and dutycode=lg.DutyCode and getdutycode=lg.GetDutyCode and feecode=''0000'' and rownum = 1) Deductible,(select StandFlag2 from LDPlanFeeRela where riskcode=lp.riskcode and dutycode=lg.DutyCode and getdutycode=lg.GetDutyCode and feecode=''0000'' and rownum = 1) Copay,nvl((select sum(lcd.realpay) from llclaimdetail  lcd where lcd.ClmNo=lr.RgtNo and lcd.GetDutyCode=lg.GetDutyCode),0) CalSum,lr.RgtNo from lcget lg left join lccont lc on lg.ContNo=lc.ContNo left join LLCase llc on  llc.CustomerNo=lg.InsuredNo left join LLRegister lr on lr.RgtNo=llc.CaseNo  left join lcpol lp on lp.contno = lg.contno where 1=1{0} {1} {2}  ) A where exists(select 1 from LLClaimDetail ll where ll.ClmNo=A.RgtNo and ll.GetDutycode=A.GetDutyCode)
LLClaimCheckSql1_0 = and lg.ContNo = ''{0}''
LLClaimCheckSql1_1 = and lg.InsuredNo = ''{0}''
LLClaimCheckSql1_2 = and lr.RgtNo = ''{0}''


LLClaimCheckSql2 = select B.DutyFeeName,B.DutyType,B.FeeMoneyLimit,nvl(getSurplusFee(B.FeeMoneyLimit,B.FeeUsedMoney),''N/A''),B.AdjSum,B.FeeCountLimit,getSurplusFee(B.FeeCountLimit,B.FeeUsedCount),B.ThisTimes,B.FeeDaysLimit,getSurplusFee(B.FeeDaysLimit,B.FeeUsedDays),B.DayCount,B.MoneyLimitEveryTime,B.Paymoneyeveryday,B.CalSum from (select distinct(lc.DutyFeeCode), getDutyFeeName('''', lc.GetDutyCode,lc.DutyFeeCode,''3'') DutyFeeName,getcodename(lc.DutyFeeType,''llfeetype'') DutyType,nvl(lf.MoneyLimitAnnual,'N/A') FeeMoneyLimit,getUsedFee(lt.ContNo,lt.InsuredNo,lf.FeeCode,'1') FeeUsedMoney,lc.AdjSum,nvl(lf.CountLimitAnnual,'N/A')FeeCountLimit,getUsedFee(lt.ContNo,lt.InsuredNo,lf.FeeCode,'2') FeeUsedCount,(case when lc.Times<=1 then 1 else lc.Times end) ThisTimes,nvl(lf.DaysLimitAnnual,'N/A') FeeDaysLimit,getUsedFee(lt.ContNo,lt.InsuredNo,lf.FeeCode,'3') FeeUsedDays,lc.DayCount,nvl(lf.Paymoneyeveryday,'N/A') Paymoneyeveryday,nvl(lf.MoneyLimitEveryTime,'N/A') MoneyLimitEveryTime,nvl(lf.preauthflag,''N'') preauthflag,lc.CalSum from LLClaimDutyFee lc left join lcget lg on lc.contno=lg.contno left join LCCont lt on lc.ContNo=lt.ContNo left join ldplanfeerela lf on lc.GetDutyCode=lf.GetDutyCode and lc.DutyFeeCode=lf.FeeCode  left join LLCaseReceipt lr on lc.DutyFeeStaNo=lr.FeeDetailNo where 1=1 {0} {1}) B
LLClaimCheckSql2_0 = and lc.ClmNo=''{0}'' 
LLClaimCheckSql2_1 = and lc.GetDutyCode=''{0}''


LLClaimCheckSql3 = select ll.RealPay from llclaim  ll where 1=1 {0} 
LLClaimCheckSql3_0 = and ll.ClmNo=''{0}''  

