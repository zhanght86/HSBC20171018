#\u5bf9\u5e94SQL\u63cf\u8ff0
WFEdorApproveSql1= select missionprop1, missionprop2, (select codename from ldcode d1 where trim(d1.codetype) = ''edornotype'' and trim(d1.code) = trim(missionprop3) ), missionprop11, (select min( paytodate) from lcpol c where polno = mainpolno and contno = missionprop2 ) paytodate,(select codename from ldcode d2 where trim(d2.codetype) = ''edorapptype'' and trim(d2.code) = trim(missionprop5) ), missionprop7, createoperator, a.makedate,concat(b.apppregrade,'' \u7ea7\u4fdd\u5168\u5458''), missionid, submissionid, activityid, (select edorappdate from lpedoritem where edoracceptno = a.missionprop1 and rownum = 1),(select count(*) from ldcalendar where commondate > (select edorappdate from lpedoritem where edoracceptno = a.missionprop1 and rownum = 1) {0} and workdateflag = ''Y'') from lwmission a,lpedorapp b where 1=1  and a.missionprop1=b.EdorAcceptNo and activityid in(select activityid from lwactivity where functionid=''10020005'' )  and (defaultoperator is null or defaultoperator='''') {1} {2} {3} {4} {5} {6} {7} {8} {9} order by (select edorappdate from lpedoritem where EdorAcceptNo = a.missionprop1 and rownum = 1),a.MakeDate, a.MakeTime 
WFEdorApproveSql1_0= and commondate <= ''{0}''
WFEdorApproveSql1_1= and b.apppregrade = ''{0}''
WFEdorApproveSql1_2= and missionprop1 = ''{0}''
WFEdorApproveSql1_3= and missionprop2 = ''{0}''
WFEdorApproveSql1_4= and missionprop3 = ''{0}''
WFEdorApproveSql1_5= and missionprop4 = ''{0}''
WFEdorApproveSql1_6= and missionprop5 = ''{0}''
WFEdorApproveSql1_7= and missionprop7 like concat(''{0}'',''%'') 
WFEdorApproveSql1_8= and a.MakeDate  = ''{0}''
WFEdorApproveSql1_9= and missionprop7 like concat(''{0}'',''%%'')

WFEdorApproveSql1_MYSQL= select missionprop1, missionprop2, (select codename from ldcode d1 where trim(d1.codetype) = ''edornotype'' and trim(d1.code) = trim(missionprop3) ), missionprop11, (select min( paytodate) from lcpol c where polno = mainpolno and contno = missionprop2 ) paytodate,(select codename from ldcode d2 where trim(d2.codetype) = ''edorapptype'' and trim(d2.code) = trim(missionprop5) ), missionprop7, createoperator, a.makedate,concat(b.apppregrade,'' \u7ea7\u4fdd\u5168\u5458''), missionid, submissionid, activityid, (select (case when edorappdate is null then '''' else edorappdate end) from lpedoritem where edoracceptno = a.missionprop1 limit 1),(select count(*) from ldcalendar where commondate > (select edorappdate from lpedoritem where edoracceptno = a.missionprop1 limit 1) {0} and workdateflag = ''Y'') from lwmission a,lpedorapp b where 1=1  and a.missionprop1=b.EdorAcceptNo and activityid in(select activityid from lwactivity where functionid=''10020005'' )  and (defaultoperator is null or defaultoperator='''' ) {1} {2} {3} {4} {5} {6} {7} {8} {9} order by (select edorappdate from lpedoritem where EdorAcceptNo = a.missionprop1 limit 1),a.MakeDate, a.MakeTime 
WFEdorApproveSql1_0_MYSQL= and commondate <= ''{0}''
WFEdorApproveSql1_1_MYSQL= and b.apppregrade = ''{0}''
WFEdorApproveSql1_2_MYSQL= and missionprop1 = ''{0}''
WFEdorApproveSql1_3_MYSQL= and missionprop2 = ''{0}''
WFEdorApproveSql1_4_MYSQL= and missionprop3 = ''{0}''
WFEdorApproveSql1_5_MYSQL= and missionprop4 = ''{0}''
WFEdorApproveSql1_6_MYSQL= and missionprop5 = ''{0}''
WFEdorApproveSql1_7_MYSQL= and missionprop7 like concat(''{0}'',''%'') 
WFEdorApproveSql1_8_MYSQL= and a.MakeDate  = ''{0}''
WFEdorApproveSql1_9_MYSQL= and missionprop7 like concat(''{0}'',''%%'')

WFEdorApproveSql2= select missionprop1, missionprop2, (select codename from ldcode d1 where trim(d1.codetype) = ''edornotype'' and trim(d1.code) = trim(missionprop3) ), missionprop11, (select min( paytodate ) from lcpol c where polno = mainpolno and contno = missionprop2 ) paytodate, (select codename from ldcode d2 where trim(d2.codetype) = ''edorapptype'' and trim(d2.code) = trim(missionprop5) ), missionprop7, createoperator, a.makedate,concat(b.apppregrade,''\u7ea7\u4fdd\u5168\u5458''), missionid, submissionid, activityid, (select edorappdate from lpedoritem where edoracceptno = a.missionprop1 and rownum = 1),(select count(*) from ldcalendar where commondate > (select edorappdate from lpedoritem where edoracceptno = a.missionprop1 and rownum=1) {0} and workdateflag = ''Y''), case (select count(distinct StateFlag) from LOPRTManager where othernotype=''02'' and StandbyFlag1 = a.missionprop1 and StandbyFlag3 = ''3'' and Code = ''BQ38'') when 0 then ''\u95ee\u9898\u4ef6\u672a\u4e0b\u53d1'' when 2 then ''\u95ee\u9898\u4ef6\u5df2\u4e0b\u53d1'' else (case (select distinct StateFlag from LOPRTManager where othernotype=''02'' and StandbyFlag1 = a.missionprop1 and StandbyFlag3 = ''3'' and Code = ''BQ38'') when ''A'' then ''\u95ee\u9898\u4ef6\u5df2\u4e0b\u53d1'' else ''\u95ee\u9898\u4ef6\u5df2\u56de\u590d'' end) end from lwmission a,lpedorapp b where 1=1  and a.missionprop1=b.EdorAcceptNo and activityid in(select activityid from lwactivity where functionid=''10020005'')  {1} order by (select edorappdate from lpedoritem where EdorAcceptNo = a.missionprop1 and rownum=1),a.MakeDate,a.ModifyTime 
WFEdorApproveSql2_0= and commondate <= ''{0}''   
WFEdorApproveSql2_1= and defaultoperator = ''{0}'' 

WFEdorApproveSql2_MYSQL= select missionprop1, missionprop2, (select codename from ldcode d1 where trim(d1.codetype) = ''edornotype'' and trim(d1.code) = trim(missionprop3) ), missionprop11, (select min( paytodate ) from lcpol c where polno = mainpolno and contno = missionprop2 ) paytodate, (select codename from ldcode d2 where trim(d2.codetype) = ''edorapptype'' and trim(d2.code) = trim(missionprop5) ), missionprop7, createoperator, a.makedate,concat(b.apppregrade,''\u7ea7\u4fdd\u5168\u5458''), missionid, submissionid, activityid, (select (case when edorappdate is null then '''' else edorappdate end) from lpedoritem where edoracceptno = a.missionprop1 limit 1),(select count(*) from ldcalendar where commondate > (select edorappdate from lpedoritem where edoracceptno = a.missionprop1 limit 1) {0} and workdateflag = ''Y''), case (select count(distinct StateFlag) from LOPRTManager where othernotype=''02'' and StandbyFlag1 = a.missionprop1 and StandbyFlag3 = ''3'' and Code = ''BQ38'') when 0 then ''\u95ee\u9898\u4ef6\u672a\u4e0b\u53d1'' when 2 then ''\u95ee\u9898\u4ef6\u5df2\u4e0b\u53d1'' else (case (select distinct StateFlag from LOPRTManager where othernotype=''02'' and StandbyFlag1 = a.missionprop1 and StandbyFlag3 = ''3'' and Code = ''BQ38'') when ''A'' then ''\u95ee\u9898\u4ef6\u5df2\u4e0b\u53d1'' else ''\u95ee\u9898\u4ef6\u5df2\u56de\u590d'' end) end from lwmission a,lpedorapp b where 1=1  and a.missionprop1=b.EdorAcceptNo and activityid in(select activityid from lwactivity where functionid=''10020005'')  {1} order by (select edorappdate from lpedoritem where EdorAcceptNo = a.missionprop1 limit 1),a.MakeDate,a.ModifyTime 
WFEdorApproveSql2_0_MYSQL= and commondate <= ''{0}''   
WFEdorApproveSql2_1_MYSQL= and defaultoperator = ''{0}'' 

WFEdorApproveSql3= select edorpopedom,codename  from ldedoruser a,ldcode b where a.edorpopedom = b.code and codetype = ''edorpopedom'' {0} and usertype=''1''
WFEdorApproveSql3_0= and usercode = ''{0}''
